{% load i18n %}
{% load product_tags %}

<div class="custom-title-card tooltip" data-level="{{ item.json_info.levels }}" data-collection="{{ item.json_info.colection }}" data-duration="{{ item.json_info.duration }}" data-ages="{{ item.json_info.ages }}" data-languages="{{ item.json_info.languages|join:',' }}">
    <div class="dual-product">
        <img src="{{ item.image_url }}" alt="Cover for {{ item.json_info.human_title }}" class="title-image">
        {% if item.json_info.levels == 'A0' or item.json_info.levels == 'A1' %}
            <div class="ribbon ribbon-start">{{ item.json_info.levels }}</div>
        {% elif item.json_info.levels == 'A2' or item.json_info.levels == 'B1' %}
            <div class="ribbon ribbon-progress">{{ item.json_info.levels }}</div>
        {% elif item.json_info.levels == 'B2' or item.json_info.levels == 'C1' %}
            <div class="ribbon ribbon-advanced">{{ item.json_info.levels }}</div>
        {% endif %}
    </div>
    <div class="title-info">
        <h5 title="{{ item.json_info.human_title }}">{{ item.json_info.human_title }}</h5>
        <span class="tooltiptext">
            <p>{{ item.json_info.description }}</p>
            <div class="title-meta">
                <p><strong>{% trans "Languages" %}:</strong> {{ item.json_info.languages|join:', ' }}</p>
                <p><strong>{% trans "Level" %}:</strong> {% trans item.json_info.levels %}</p>
                <p><strong>{% trans "Ages" %}:</strong> {% trans item.json_info.ages %}</p>
                <p><strong>{% trans "Collection" %}:</strong> {% trans item.json_info.colection %}</p>
                <p><strong>{% trans "Duration" %}:</strong> {% trans item.json_info.duration %}</p>
            </div>
        </span>
    </div>
     <div class="card-actions">
        {% if item.status == 'FREE' or item.status == 'PREMIUM_OWNED' %}
            <a href="{% url 'products:player' item.title.machine_name %}" class="action-btn play-btn" title="Play">▶️</a>
        {% else %}
            <a href="#" class="action-btn buy-btn">{% trans "Buy" %}</a>
        {% endif %}
    </div>
</div>
