{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/catalog_filters.css' %}">
    <link rel="stylesheet" href="{% static 'css/title_card.css' %}">
{% endblock %}

{% block content %}
<main>
  <h3 data-translate-key="catalog.what_is_dual">‚ÑπÔ∏è Qu√® √©s Audiovook Dual?</h3>
  <p data-translate-key="catalog.what_is_dual_text">
    Audiovook Dual √©s una col¬∑lecci√≥ d‚Äôaudiorelats biling√ºes que et permet escoltar una mateixa hist√≤ria en dues lleng√ºes. √âs una forma d‚Äôaprendre jugant amb el so, la repetici√≥ i el context.
  </p>
  <h2 style="text-align:center" data-translate-key="catalog.available_stories">üìö Relats disponibles</h2>

  <!-- Level buttons -->
  <h3 style="text-align:center">Selecciona nivell:</h3>
  <section id="levelSection">
    {% for level in levels %}
      <button class="levelBtn">{{ level }}</button>
    {% endfor %}
  </section>

  <!-- Toggle filters button -->
  <div id="advancedSearchToggle">
    <button id="toggleFiltersBtn">üîç Cerca avan√ßada</button>
  </div>

  <!-- Filters bar (hidden by default) -->
  <section id="filtersBar" style="display:none;">
    <div class="av-input">
      <input type="text" id="searchInput" placeholder="üîç Cerca per text o t√≠tol..." />
    </div>
    <div class="av-select" data-placeholder="Col¬∑lecci√≥">
      <label>Col¬∑lecci√≥</label>
      <select id="filterCollection">
        <option value="">‚Äî</option>
        {% for collection in collections %}<option value="{{ collection }}">{{ collection }}</option>{% endfor %}
      </select>
    </div>
    <div class="av-select" data-placeholder="Durada">
      <label>Durada</label>
      <select id="filterDuration">
        <option value="">‚Äî</option>
        {% for duration in durations %}<option value="{{ duration }}">{{ duration }}</option>{% endfor %}
      </select>
    </div>
    <div class="av-select" data-placeholder="Lleng√ºes">
      <label>Lleng√ºes</label>
      <select id="filterLang">
        <option value="">‚Äî</option>
        {% for language in languages %}<option value="{{ language }}">{{ language }}</option>{% endfor %}
      </select>
    </div>
    <div class="av-select" data-placeholder="Edats">
      <label>Edats</label>
      <select id="filterAges">
        <option value="">‚Äî</option>
        {% for age in ages_list %}<option value="{{ age }}">{{ age }}</option>{% endfor %}
      </select>
    </div>
  </section>

  <section id="catalog" class="title-cards-container">
    {% for item in titles_with_status %}
      {% include 'products/_title_card.html' with item=item %}
    {% empty %}
      <p>No hi ha t√≠tols disponibles actualment.</p>
    {% endfor %}
  </section>
  <p id="noResultsMessage" style="display: none;" data-translate-key="catalog.no_results">No s'han trobat resultats per a la teva cerca.</p>
</main>
{% endblock %}

{% block extra_js %}
    {{ block.super }}
    <script src="{% static 'js/catalog_filters.js' %}"></script>
{% endblock %}
